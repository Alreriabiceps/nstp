import{h as u,T as k,m as b,o as p,f,b as r,g as y,a as s,u as a,w as I,s as N,e as M,d as U}from"./app-B6O6sYq6.js";import{a as o,_ as n}from"./InputLabel-Bs4jbW8b.js";import{P}from"./PrimaryButton-B5o05fdj.js";import{_ as m}from"./TextInput-umVapjyh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S=r("header",null,[r("h2",{class:"text-lg font-medium text-gray-900"},"Update Admin"),r("p",{class:"mt-1 text-sm text-gray-600"}," Ensure your account is using a long, random password to stay secure. ")],-1),B=["src"],C={class:"flex items-center gap-4"},E={key:0,class:"text-sm text-gray-600"},L={__name:"UpdateAdminForm",props:{user:{type:Object,default:{}}},setup(d){const i=d,c=u(null),w=u(null),_=u(null),g=u(null),V=u(null),v=u(null),e=k({image:"",current_password:"",password:"",password_confirmation:"",first_name:"",last_name:"",MI:"",ext_name:""}),x=()=>{e.post(route("admin.update"),{preserveScroll:!0,onSuccess:()=>{e.reset(),alert("Successfully updated!")},onError:()=>{e.errors.image&&(e.reset("image"),v.value.focus()),e.errors.password&&(e.reset("password","password_confirmation"),c.value.focus()),e.errors.current_password&&(e.reset("current_password"),w.value.focus()),e.errors.first_name&&(e.reset("first_name"),_.value.focus()),e.errors.last_name&&(e.reset("last_name"),g.value.focus()),e.errors.MI&&(e.reset("MI"),V.value.focus())}})};return b(()=>{e.image=i.user.image,e.first_name=i.user.first_name,e.last_name=i.user.last_name,e.MI=i.user.MI}),($,t)=>(p(),f("section",null,[S,r("form",{onSubmit:M(x,["prevent"]),class:"mt-6 space-y-6"},[d.user.image?(p(),f("img",{key:0,src:`/storage/${d.user.image}`,alt:"Student Image",class:"w-32 h-32 object-cover rounded-full"},null,8,B)):y("",!0),r("div",null,[s(n,{for:"image",value:"Image"}),r("input",{id:"image",ref_key:"imageInput",ref:v,type:"file",class:"mt-1 block w-full",onInput:t[0]||(t[0]=l=>a(e).image=l.target.files[0]),required:""},null,544),s(o,{message:a(e).errors.image,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"first_name",value:"First Name"}),s(m,{id:"first_name",ref_key:"firstNameInput",ref:_,modelValue:a(e).first_name,"onUpdate:modelValue":t[1]||(t[1]=l=>a(e).first_name=l),type:"text",class:"mt-1 block w-full",autocomplete:"first-name"},null,8,["modelValue"]),s(o,{message:a(e).errors.first_name,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"middle_initial",value:"Middle Initial"}),s(m,{id:"middle_initial",ref:"middleInitialInput",modelValue:a(e).MI,"onUpdate:modelValue":t[2]||(t[2]=l=>a(e).MI=l),type:"text",class:"mt-1 block w-full",autocomplete:"middle-initial"},null,8,["modelValue"]),s(o,{message:a(e).errors.MI,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"last_name",value:"Last Name"}),s(m,{id:"last_name",ref_key:"lastNameInput",ref:g,modelValue:a(e).last_name,"onUpdate:modelValue":t[3]||(t[3]=l=>a(e).last_name=l),type:"text",class:"mt-1 block w-full",autocomplete:"last-name"},null,8,["modelValue"]),s(o,{message:a(e).errors.last_name,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"ext_name",value:"Extension Name"}),s(m,{id:"ext_name",ref:"extNameInput",modelValue:a(e).ext_name,"onUpdate:modelValue":t[4]||(t[4]=l=>a(e).ext_name=l),type:"text",class:"mt-1 block w-full",autocomplete:"ext-name"},null,8,["modelValue"]),s(o,{message:a(e).errors.ext_name,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"current_password",value:"Current Password"}),s(m,{id:"current_password",ref_key:"currentPasswordInput",ref:w,modelValue:a(e).current_password,"onUpdate:modelValue":t[5]||(t[5]=l=>a(e).current_password=l),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),s(o,{message:a(e).errors.current_password,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"password",value:"New Password"}),s(m,{id:"password",ref_key:"passwordInput",ref:c,modelValue:a(e).password,"onUpdate:modelValue":t[6]||(t[6]=l=>a(e).password=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),s(o,{message:a(e).errors.password,class:"mt-2"},null,8,["message"])]),r("div",null,[s(n,{for:"password_confirmation",value:"Confirm Password"}),s(m,{id:"password_confirmation",modelValue:a(e).password_confirmation,"onUpdate:modelValue":t[7]||(t[7]=l=>a(e).password_confirmation=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),s(o,{message:a(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),r("div",C,[s(P,{disabled:a(e).processing},{default:I(()=>[U("Update")]),_:1},8,["disabled"]),s(N,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:I(()=>[a(e).recentlySuccessful?(p(),f("p",E,"Saved.")):y("",!0)]),_:1})])],32)]))}};export{L as default};
