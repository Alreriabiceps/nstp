import{h as m,T as U,k as w,o as f,f as p,b as l,a as t,g as I,e as x,u as a,w as y,s as S,d as h}from"./app-0aOLP_0c.js";import{a as o,_ as i}from"./InputLabel-BX9B_D5m.js";import{P as C}from"./PrimaryButton-DCDOtixb.js";import{_ as d}from"./TextInput-OXDi6jHg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $=l("header",null,[l("h2",{class:"text-lg font-medium text-gray-900"},"Update Admin")],-1),B=["src"],j={class:"flex items-center gap-4"},A={key:0,class:"text-sm text-gray-600"},P={__name:"UpdateAdminForm",props:{user:{type:Object,default:{}}},setup(V){const r=V,_=m(null),g=m(null),k=m(null),c=m(null),u=m(""),e=U({image:"",first_name:"",last_name:"",MI:"",ext_name:""});function b(){e.post(route("admin.update"),{preserveScroll:!0,onSuccess:()=>{e.reset(),alert("Successfully updated!")},onError:()=>{e.errors.image&&(e.reset("image"),c.value.focus()),e.errors.first_name&&(e.reset("first_name"),_.value.focus()),e.errors.last_name&&(e.reset("last_name"),g.value.focus()),e.errors.MI&&(e.reset("MI"),k.value.focus())}})}w(()=>{e.first_name=r.user.first_name,e.last_name=r.user.last_name,e.MI=r.user.MI,r.user.image&&(u.value=`/storage/${r.user.image}`)});const M=()=>{c.value.click()},N=v=>{const s=v.target.files[0];s&&(e.image=s,u.value=URL.createObjectURL(s))};return(v,s)=>(f(),p("section",null,[$,l("form",{onSubmit:x(b,["prevent"]),class:"mt-6 space-y-6"},[l("div",null,[t(i,{for:"image",value:"Image"}),u.value?(f(),p("img",{key:0,src:u.value,alt:"Selected Image",class:"w-32 h-32 object-cover rounded-full"},null,8,B)):I("",!0),l("button",{type:"button",class:"mt-2 text-sm text-gray-600 underline",onClick:s[0]||(s[0]=x(n=>M(),["prevent"]))},"Change Image"),l("input",{id:"image",ref_key:"imageInput",ref:c,type:"file",class:"hidden",onInput:N},null,544),t(o,{message:a(e).errors.image,class:"mt-2"},null,8,["message"])]),l("div",null,[t(i,{for:"first_name",value:"First Name"}),t(d,{id:"first_name",ref_key:"firstNameInput",ref:_,modelValue:a(e).first_name,"onUpdate:modelValue":s[1]||(s[1]=n=>a(e).first_name=n),type:"text",class:"mt-1 block w-full",autocomplete:"first-name"},null,8,["modelValue"]),t(o,{message:a(e).errors.first_name,class:"mt-2"},null,8,["message"])]),l("div",null,[t(i,{for:"middle_initial",value:"Middle Initial"}),t(d,{id:"middle_initial",ref:"middleInitialInput",modelValue:a(e).MI,"onUpdate:modelValue":s[2]||(s[2]=n=>a(e).MI=n),type:"text",class:"mt-1 block w-full",autocomplete:"middle-initial"},null,8,["modelValue"]),t(o,{message:a(e).errors.MI,class:"mt-2"},null,8,["message"])]),l("div",null,[t(i,{for:"last_name",value:"Last Name"}),t(d,{id:"last_name",ref_key:"lastNameInput",ref:g,modelValue:a(e).last_name,"onUpdate:modelValue":s[3]||(s[3]=n=>a(e).last_name=n),type:"text",class:"mt-1 block w-full",autocomplete:"last-name"},null,8,["modelValue"]),t(o,{message:a(e).errors.last_name,class:"mt-2"},null,8,["message"])]),l("div",null,[t(i,{for:"ext_name",value:"Extension Name"}),t(d,{id:"ext_name",ref:"extNameInput",modelValue:a(e).ext_name,"onUpdate:modelValue":s[4]||(s[4]=n=>a(e).ext_name=n),type:"text",class:"mt-1 block w-full",autocomplete:"ext-name"},null,8,["modelValue"]),t(o,{message:a(e).errors.ext_name,class:"mt-2"},null,8,["message"])]),l("div",j,[t(C,{disabled:a(e).processing},{default:y(()=>[h("Update")]),_:1},8,["disabled"]),t(S,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:y(()=>[a(e).recentlySuccessful?(f(),p("p",A,"Saved.")):I("",!0)]),_:1})])],32)]))}};export{P as default};
