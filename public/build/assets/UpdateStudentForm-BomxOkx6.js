import{h as d,T as V,k as U,o as u,f as c,b as t,a,g as _,e as x,u as r,w as k,y as w,d as P}from"./app-D8wmBy9s.js";import{_ as m}from"./InputError-izbhYjYb.js";import{_ as g}from"./InputLabel-C-ax2LZ2.js";import{P as C}from"./PrimaryButton-DxVJprGn.js";import{_ as v}from"./TextInput-BoWN8agR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $=t("header",{class:"mb-4"},[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Student Profile Information"),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Update your profile information including your image, student ID, and section. ")],-1),B={class:"mt-2 flex flex-col items-start"},N=["src"],T={class:"flex items-center gap-4"},j={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},R={__name:"UpdateStudentForm",props:{student:{type:Object,default:{}}},setup(b){const f=d(null),p=d(null),i=d(null),o=d(""),l=b,e=V({student_id:"",section:"",image:""}),I=()=>{e.post(route("student.update"),{onSuccess:()=>{e.reset(),alert("Successfully updated!")},onError:()=>{e.errors.image&&(e.reset("image"),i.value.focus()),e.errors.student_id&&(e.reset("student_id"),f.value.focus()),e.errors.section&&(e.reset("section"),p.value.focus())}})};U(()=>{e.student_id=l.student.student_id,e.section=l.student.section,o.value=`/storage/${l.student.image}`});const h=()=>{i.value.click()},S=y=>{const s=y.target.files[0];s&&(e.image=s,o.value=URL.createObjectURL(s))};return(y,s)=>(u(),c("section",null,[$,t("form",{onSubmit:x(I,["prevent"]),class:"mt-6 space-y-6",method:"POST"},[t("div",null,[a(g,{for:"image",value:"Profile Image",class:"text-gray-700 dark:text-gray-300"}),t("div",B,[o.value?(u(),c("img",{key:0,src:o.value,alt:"Profile Image",class:"w-32 h-32 object-cover rounded-full border-2 border-gray-200 dark:border-gray-700"},null,8,N)):_("",!0),t("button",{type:"button",class:"mt-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 hover:underline",onClick:s[0]||(s[0]=x(n=>h(),["prevent"]))}," Change Profile Image "),t("input",{id:"image",ref_key:"imageInput",ref:i,type:"file",class:"hidden",onInput:S},null,544)]),a(m,{message:r(e).errors.image,class:"mt-2"},null,8,["message"])]),t("div",null,[a(g,{for:"student_id",value:"Student ID",class:"text-gray-700 dark:text-gray-300"}),a(v,{id:"student_id",ref_key:"studentIdInput",ref:f,type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",modelValue:r(e).student_id,"onUpdate:modelValue":s[1]||(s[1]=n=>r(e).student_id=n)},null,8,["modelValue"]),a(m,{message:r(e).errors.student_id,class:"mt-2"},null,8,["message"])]),t("div",null,[a(g,{for:"section",value:"Section",class:"text-gray-700 dark:text-gray-300"}),a(v,{id:"section",ref_key:"sectionInput",ref:p,type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",modelValue:r(e).section,"onUpdate:modelValue":s[2]||(s[2]=n=>r(e).section=n)},null,8,["modelValue"]),a(m,{message:r(e).errors.section,class:"mt-2"},null,8,["message"])]),t("div",T,[a(C,{disabled:r(e).processing},{default:k(()=>[P("Update Profile")]),_:1},8,["disabled"]),a(w,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:k(()=>[r(e).recentlySuccessful?(u(),c("p",j,"Updated.")):_("",!0)]),_:1})])],32)]))}};export{R as default};
