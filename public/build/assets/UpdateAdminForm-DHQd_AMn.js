import{h as n,T as w,k as N,o as c,f,b as r,a,g as k,e as v,u as t,w as b,y as U,d as P}from"./app-D8wmBy9s.js";import{_ as i}from"./InputError-izbhYjYb.js";import{_ as d}from"./InputLabel-C-ax2LZ2.js";import{P as S}from"./PrimaryButton-DxVJprGn.js";import{_ as u}from"./TextInput-BoWN8agR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C=r("header",{class:"mb-4"},[r("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Admin Profile Information"),r("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Update your profile information including your image and personal details. ")],-1),$={class:"mt-2 flex flex-col items-start"},B=["src"],j={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E={class:"flex items-center gap-4"},F={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},z={__name:"UpdateAdminForm",props:{user:{type:Object,default:{}}},setup(I){const o=I,p=n(null),y=n(null),_=n(null),g=n(null),m=n(""),e=w({image:"",first_name:"",last_name:"",MI:"",ext_name:""});function h(){e.post(route("admin.update"),{preserveScroll:!0,onSuccess:()=>{e.reset(),alert("Successfully updated!")},onError:()=>{e.errors.image&&(e.reset("image"),g.value.focus()),e.errors.first_name&&(e.reset("first_name"),p.value.focus()),e.errors.last_name&&(e.reset("last_name"),y.value.focus()),e.errors.MI&&(e.reset("MI"),_.value.focus())}})}N(()=>{e.first_name=o.user.first_name,e.last_name=o.user.last_name,e.MI=o.user.MI,e.ext_name=o.user.ext_name,o.user.image&&(m.value=`/storage/${o.user.image}`)});const V=()=>{g.value.click()},M=x=>{const s=x.target.files[0];s&&(e.image=s,m.value=URL.createObjectURL(s))};return(x,s)=>(c(),f("section",null,[C,r("form",{onSubmit:v(h,["prevent"]),class:"mt-6 space-y-6"},[r("div",null,[a(d,{for:"image",value:"Profile Image",class:"text-gray-700 dark:text-gray-300"}),r("div",$,[m.value?(c(),f("img",{key:0,src:m.value,alt:"Profile Image",class:"w-32 h-32 object-cover rounded-full border-2 border-gray-200 dark:border-gray-700"},null,8,B)):k("",!0),r("button",{type:"button",class:"mt-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 hover:underline",onClick:s[0]||(s[0]=v(l=>V(),["prevent"]))}," Change Profile Image "),r("input",{id:"image",ref_key:"imageInput",ref:g,type:"file",class:"hidden",onInput:M},null,544)]),a(i,{message:t(e).errors.image,class:"mt-2"},null,8,["message"])]),r("div",j,[r("div",null,[a(d,{for:"first_name",value:"First Name",class:"text-gray-700 dark:text-gray-300"}),a(u,{id:"first_name",ref_key:"firstNameInput",ref:p,modelValue:t(e).first_name,"onUpdate:modelValue":s[1]||(s[1]=l=>t(e).first_name=l),type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",autocomplete:"first-name"},null,8,["modelValue"]),a(i,{message:t(e).errors.first_name,class:"mt-2"},null,8,["message"])]),r("div",null,[a(d,{for:"last_name",value:"Last Name",class:"text-gray-700 dark:text-gray-300"}),a(u,{id:"last_name",ref_key:"lastNameInput",ref:y,modelValue:t(e).last_name,"onUpdate:modelValue":s[2]||(s[2]=l=>t(e).last_name=l),type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",autocomplete:"last-name"},null,8,["modelValue"]),a(i,{message:t(e).errors.last_name,class:"mt-2"},null,8,["message"])])]),r("div",A,[r("div",null,[a(d,{for:"middle_initial",value:"Middle Initial",class:"text-gray-700 dark:text-gray-300"}),a(u,{id:"middle_initial",ref_key:"MIInput",ref:_,modelValue:t(e).MI,"onUpdate:modelValue":s[3]||(s[3]=l=>t(e).MI=l),type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",autocomplete:"middle-initial"},null,8,["modelValue"]),a(i,{message:t(e).errors.MI,class:"mt-2"},null,8,["message"])]),r("div",null,[a(d,{for:"ext_name",value:"Name Extension",class:"text-gray-700 dark:text-gray-300"}),a(u,{id:"ext_name",modelValue:t(e).ext_name,"onUpdate:modelValue":s[4]||(s[4]=l=>t(e).ext_name=l),type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"Jr., Sr., III, etc."},null,8,["modelValue"]),a(i,{message:t(e).errors.ext_name,class:"mt-2"},null,8,["message"])])]),r("div",E,[a(S,{disabled:t(e).processing},{default:b(()=>[P("Update Profile")]),_:1},8,["disabled"]),a(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:b(()=>[t(e).recentlySuccessful?(c(),f("p",F,"Updated.")):k("",!0)]),_:1})])],32)]))}};export{z as default};
