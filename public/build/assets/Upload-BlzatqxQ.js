import{h as x,T as y,o as g,f,a as i,u as s,w as h,F as P,Z as F,b as e,p as T,t as b,g as _,e as k,n as p,d as w}from"./app-D8wmBy9s.js";import{_ as E}from"./AuthenticatedLayout-BNaGA4LG.js";import{_ as S}from"./InputError-izbhYjYb.js";import{F as m}from"./FileUploadIcon-DWI47okC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ThemeToggle-B3tLVrVv.js";const B={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50"},C={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl flex flex-col items-center"},M=e("div",{class:"relative w-16 h-16"},[e("svg",{class:"w-full h-full",viewBox:"0 0 100 100"},[e("circle",{class:"stroke-blue-500",cx:"50",cy:"50",r:"40",fill:"none","stroke-width":"3","stroke-dasharray":"251","stroke-dashoffset":"75"},[e("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.5s",repeatCount:"indefinite"})])])],-1),N=e("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mt-3"},"Uploading",-1),z={class:"w-full bg-gray-200 rounded-full h-2 mt-4"},I={class:"text-xs text-gray-500 mt-2"},V=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Batch Upload ",-1),G={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900 dark:text-gray-100"},q=e("div",{class:"mb-8 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},[e("h3",{class:"text-lg font-medium text-blue-800 dark:text-blue-300 mb-2"},"Upload Instructions"),e("ul",{class:"list-disc list-inside space-y-1 text-sm text-blue-700 dark:text-blue-200"},[e("li",null,"Upload Excel files (.xls or .xlsx) only"),e("li",null,"Maximum file size: 10MB"),e("li",null,"Make sure your file follows the required format"),e("li",null,"You can drag and drop files into the upload area")])],-1),A={class:"mb-12"},Y=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Enrolled Students",-1),Z={class:"text-center"},H={class:"mt-4"},J=e("label",{for:"enrolled_file",class:"cursor-pointer"},[e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-100"}," Click to upload or drag and drop "),e("span",{class:"mt-1 block text-xs text-gray-500 dark:text-gray-400"}," Excel files only (.xls, .xlsx) ")],-1),K={key:0,class:"mt-4"},L={class:"text-sm text-gray-600 dark:text-gray-300"},Q={class:"mt-4"},R=["disabled"],W=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Graduate Students",-1),X={class:"text-center"},ee={class:"mt-4"},te=e("label",{for:"graduates_file",class:"cursor-pointer"},[e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-100"}," Click to upload or drag and drop "),e("span",{class:"mt-1 block text-xs text-gray-500 dark:text-gray-400"}," Excel files only (.xls, .xlsx) ")],-1),se={key:0,class:"mt-4"},re={class:"text-sm text-gray-600 dark:text-gray-300"},ae={class:"mt-4"},le=["disabled"],fe={__name:"Upload",setup(oe){const u=x(!1),n=x(0),c=x(!1),a=y({enrolled_file:null,processing:!1}),l=y({graduates_file:null,processing:!1});function d(o,t){o.preventDefault(),o.stopPropagation(),o.type==="dragenter"||o.type==="dragover"?c.value=!0:o.type==="dragleave"&&(c.value=!1)}function v(o,t){o.preventDefault(),o.stopPropagation(),c.value=!1,o.dataTransfer.files&&o.dataTransfer.files[0]&&(t[t===a?"enrolled_file":"graduates_file"]=o.dataTransfer.files[0])}function D(){if(!a.enrolled_file){a.errors.enrolled_file="Please select a file to upload.";return}u.value=!0,n.value=0,a.post(route("students.import-enrolled"),{onStart:()=>{a.processing=!0},onProgress:o=>{n.value=Math.round(o.percentage)},onFinish:()=>{a.processing=!1,u.value=!1,n.value=0},onSuccess:()=>{alert("Upload successful!")}})}function U(){if(!l.graduates_file){l.errors.graduates_file="Please select a file to upload.";return}u.value=!0,n.value=0,l.post(route("students.import-graduates"),{onStart:()=>{l.processing=!0},onProgress:o=>{n.value=Math.round(o.percentage)},onFinish:()=>{l.processing=!1,u.value=!1,n.value=0},onSuccess:()=>{alert("Upload successful!")}})}return(o,t)=>(g(),f(P,null,[i(s(F),{title:"Students"}),i(E,null,{header:h(()=>[V]),default:h(()=>[u.value?(g(),f("div",B,[e("div",C,[M,N,e("div",z,[e("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:T({width:n.value+"%"})},null,4)]),e("p",I,b(n.value),1)])])):_("",!0),e("div",G,[e("div",O,[e("div",$,[e("div",j,[q,e("div",A,[Y,e("form",{onSubmit:k(D,["prevent"]),method:"POST"},[e("div",{class:p(["relative border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 transition-colors duration-200",{"border-blue-500 bg-blue-50 dark:bg-blue-900/20":c.value}]),onDragenter:t[1]||(t[1]=r=>d(r,s(a))),onDragover:t[2]||(t[2]=r=>d(r,s(a))),onDragleave:t[3]||(t[3]=r=>d(r,s(a))),onDrop:t[4]||(t[4]=r=>v(r,s(a)))},[e("div",Z,[i(m,{class:"mx-auto h-12 w-12 text-gray-400"}),e("div",H,[J,e("input",{type:"file",id:"enrolled_file",class:"hidden",name:"enrolled_file",onInput:t[0]||(t[0]=r=>s(a).enrolled_file=r.target.files[0]),accept:".xls,.xlsx,.csv"},null,32)]),s(a).enrolled_file?(g(),f("div",K,[e("p",L," Selected file: "+b(s(a).enrolled_file.name),1)])):_("",!0)])],34),i(S,{class:"mt-2",message:s(a).errors.enrolled_file},null,8,["message"]),e("div",Q,[e("button",{type:"submit",class:p(["inline-flex items-center px-4 py-2 bg-blue-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-600 focus:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":s(a).processing}]),disabled:s(a).processing||s(l).processing},[i(m,{class:"h-4 w-4 mr-2"}),w(" Upload Enrolled Students ")],10,R)])],32)]),e("div",null,[W,e("form",{onSubmit:k(U,["prevent"]),method:"POST"},[e("div",{class:p(["relative border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 transition-colors duration-200",{"border-green-500 bg-green-50 dark:bg-green-900/20":c.value}]),onDragenter:t[6]||(t[6]=r=>d(r,s(l))),onDragover:t[7]||(t[7]=r=>d(r,s(l))),onDragleave:t[8]||(t[8]=r=>d(r,s(l))),onDrop:t[9]||(t[9]=r=>v(r,s(l)))},[e("div",X,[i(m,{class:"mx-auto h-12 w-12 text-gray-400"}),e("div",ee,[te,e("input",{type:"file",id:"graduates_file",class:"hidden",name:"graduates_file",onInput:t[5]||(t[5]=r=>s(l).graduates_file=r.target.files[0]),accept:".xls,.xlsx"},null,32)]),s(l).graduates_file?(g(),f("div",se,[e("p",re," Selected file: "+b(s(l).graduates_file.name),1)])):_("",!0)])],34),i(S,{class:"mt-2",message:s(l).errors.graduates_file},null,8,["message"]),e("div",ae,[e("button",{type:"submit",class:p(["inline-flex items-center px-4 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-600 focus:bg-green-600 active:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":s(l).processing}]),disabled:s(l).processing||s(a).processing},[i(m,{class:"h-4 w-4 mr-2"}),w(" Upload Graduate Students ")],10,le)])],32)])])])])])]),_:1})],64))}};export{fe as default};
